name: Build and Release binary on Push to Master
on:
  pull_request:
    types: [opened, reopened, synchronize]
    branches:
      - 'main'
jobs:
  version_updated:
    name: Check that version has been updated
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v3
      - name: Verify Versions Updated
        uses: tj-actions/changed-files@v35
        id: verify_changed_files
        with:
          files: |
             VERSION
      - name: Fail Unless Versions Updated
        id: fail_unless_changed
        if: steps.verify_changed_files.outputs.any_changed == 'false'
        run: |
              echo "::error ::Please update the VERSION file"
              exit 1
